<div class="card animated fadeIn" style="margin-top:20px;">

  <div class="card-head style-default-light" style="padding-top:10px; padding-left:10px;">
    <header>
      <strong style="font-weight:bold; border:none; margin-left:10px; font-size: 16px;">Area técnica Atención Telefónica</strong>
      <br />
      <small class="text-muted" style="font-size:14px; margin-left:10px;">
        <i class="fa fa-home" aria-hidden="true"></i> Reportes</small>
    </header>
    <div class="tools">

    </div>
  </div>

  <div class="card-body">
    <div class="col-md-5" ng-show="$ctrl.showfilters">
      <form angular-validator-submit="$ctrl.GetReport()" name="contratoForm" novalidate angular-validator>
        <div class="row">
          <div class="col-md-4">
            Tipo de servicio:
          </div>
          <div class="col-md-8">
            <select class="form-control input-sm" ng-model="$ctrl.tiposervicio"
            ng-change="$ctrl.getTrabajosQuejas()"
            name="tiposervicio"
            ng-options="v.Concepto for v in $ctrl.Tiposervicios track by v.Clv_TipSerPrincipal"
              ng-required="true" validate-on="dirty" required-message="'Este campo es obligatorio.'">
              <option value="">selecciona tipo servicio</option>
            </select>
          </div>
        </div>

        <div class="row">
          <div class="col-md-12">
            Llamadas Telefónicas con:
          </div>
          <div class="col-md-12">
            <div class="col-md-4">
              <label class="radio-inline radio-styled">
                <input type="radio" name="checktiporep" ng-model="$ctrl.tiporeporteord" value="0">
                <span> Sin Reporte</span>
              </label>
            </div>
            <div class="col-md-4">
              <label class="radio-inline radio-styled">
                <input type="radio" name="checktiporep" ng-model="$ctrl.tiporeporteord" value="1">
                <span> Con Reporte</span>
              </label>
            </div>
            <div class="col-md-4">
              <label class="radio-inline radio-styled">
                <input type="radio" name="checktiporep" ng-model="$ctrl.tiporeporteord" value="2">
                <span> Ambas</span>
              </label>
            </div>
          </div>

        </div>



        <div class="row">
          <div class="col-md-4">
            <label class="checkbox-inline checkbox-styled checkbox-warning">
              <input type="checkbox" name="checkusuario" ng-model="$ctrl.checkusuario">
              <span>Usuario</span>
            </label>
          </div>
          <div class="col-md-8">
            <select class="form-control input-sm" 
            ng-disabled="!$ctrl.checkusuario" ng-model="$ctrl.usuario" ng-options="v.Nombre for v in $ctrl.usuarios track by v.Clave"
              ng-required="$ctrl.checkusuario" validate-on="dirty" 
              name="usuario"
              required-message="'Este campo es obligatorio.'">
              <option value="">selecciona usuarios</option>
            </select>
          </div>

        </div>

        <div class="row">
          <div class="col-md-4">
            <label class="checkbox-inline checkbox-styled checkbox-warning">
              <input type="checkbox" name="checkrangoLlamada" ng-model="$ctrl.checkrangoLlamada" ng-change="$ctrl.clvLlamadaInicio=0;$ctrl.clvLlamadaFin=0 ">
              <span># llamada</span>
            </label>
          </div>
          <div class="col-md-4">
            <input type="number"
            name="clvLlamadaInicio"
            ng-disabled="!$ctrl.checkrangoLlamada" ng-model="$ctrl.clvLlamadaInicio" class="form-control input-sm"
              ng-required="$ctrl.checkrangoLlamada" validate-on="dirty" required-message="'Este campo es obligatorio.'">
          </div>
          <div class="col-md-4">
            <input type="number"
            name="clvLlamadaFin"
            ng-disabled="!$ctrl.checkrangoLlamada" ng-model="$ctrl.clvLlamadaFin" class="form-control input-sm"
              ng-required="$ctrl.checkrangoLlamada" validate-on="dirty" required-message="'Este campo es obligatorio.'">
          </div>

        </div>



        <div class="row">
          <div class="col-md-4">
            <label class="checkbox-inline checkbox-styled checkbox-warning">
              <input type="checkbox" ng-model="$ctrl.checkFechaSol"
              name="checkFechaSol"
              ng-change="$ctrl.fechasolInicial='';$ctrl.fechasolFinal='' ">
              <span>Fecha Sol.</span>
            </label>
          </div>
          <div class="col-md-4">
            <label>
              <i class="md md-today"></i> desde:</label>    
             
              <input class="form-control input-sm"
              name="checkFechaSol"
              type="date"
              ng-required="$ctrl.checkFechaSol" ng-disabled="!$ctrl.checkFechaSol" placeholder="Fecha de inicio"
                validate-on="dirty" required-message="'Este campo es obligatorio.'" ng-model="$ctrl.fechasolInicial">
           
          </div>
          <div class="col-md-4">
            <label>
              <i class="md md-today"></i> Hasta:</label>
          
              
              <input class="form-control input-sm" 
              name="checkFechaSol" type="date"
              ng-disabled="!$ctrl.checkFechaSol" placeholder="Fecha de inicio" validate-on="dirty"
                ng-required="$ctrl.checkFechaSol" required-message="'Este campo es obligatorio.'" ng-model="$ctrl.fechasolFinal">
               
            </div>
         

        </div>



        <div class="row">
          <div class="col-md-4">
            <label class="checkbox-inline checkbox-styled checkbox-warning">
              <input type="checkbox" ng-model="$ctrl.checkContrato" name="checkContrato">
              <span>Contrato</span>
            </label>
          </div>
          <div class="col-md-8">
            <input class="form-control input-sm" validate-on="dirty" 
            ng-model="$ctrl.contrato"
            name="contrato"
            ng-disabled="!$ctrl.checkContrato"
            ng-required="$ctrl.checkContrato"
            required-message="'Este campo es obligatorio.'">
          </div>
        </div>

        
        <div class="row" ng-show="$ctrl.tiporeporteord=='1'">

          <div class="col-md-4">
            <label class="checkbox-inline checkbox-styled checkbox-warning">
              <input type="checkbox" name="checkReporte" ng-model="$ctrl.checkReporte">
              <span>Numero de reporte</span>
            </label>
          </div>
          <div class="col-md-8">
            <input class="form-control input-sm" 
            name="reporte"
            validate-on="dirty" ng-required="$ctrl.checkReporte" ng-model="$ctrl.reporte" ng-disabled="!$ctrl.checkReporte"
              required-message="'Este campo es obligatorio.'">

          </div>
        </div>
        <div class="row" ng-show="$ctrl.tiporeporteord=='1'">

          <div class="col-md-4">
            <label class="checkbox-inline checkbox-styled checkbox-warning">
              <input type="checkbox" ng-model="$ctrl.checkServ" name="checkServ">
              <span>Servicio cliente</span>
            </label>
          </div>
          <div class="col-md-8">
            <select class="form-control input-sm" ng-model="$ctrl.servicio"
            name="servicio"
             ng-options="v.DESCRIPCION for v in $ctrl.trabajosQuejas track by v.CLV_TRABAJO"
              ng-required="$ctrl.checkServ" ng-disabled="!$ctrl.checkServ" validate-on="dirty" required-message="'Este campo es obligatorio.'">
              <option value="">selecciona servicio</option>
            </select>

          </div>
        </div>
        <div class="row" ng-show="$ctrl.tiporeporteord=='1'">
          <div class="col-md-12"> Estatus de Reporte</div>
          <div class="col-md-12">

            <div class="col-md-4">
              <label class="radio-inline radio-styled">
                <input type="radio" name="checkqueja" ng-model="$ctrl.tipoqueja" value="P">
                <span> Pendiente</span>
              </label>
            </div>
            <div class="col-md-4">
              <label class="radio-inline radio-styled">
                <input type="radio" name="checkqueja" ng-model="$ctrl.tipoqueja" value="V">
                <span>Visita</span>
              </label>
            </div>
            <div class="col-md-4">
              <label class="radio-inline radio-styled">
                <input type="radio" name="checkqueja" ng-model="$ctrl.tipoqueja" value="E">
                <span>Ejecutada</span>
              </label>
            </div>
          </div>
        </div>
        
        <div class="row">
          <div class="col-md-12"> Ordenar reporte:</div>
          <div class="col-md-12">
            <div class="col-md-4">
              <label class="radio-inline radio-styled">
                <input type="radio" name="checkordtiporep" ng-model="$ctrl.tiporeporte" value="0">
                <span> Contrato</span>
              </label>
            </div>
            <div class="col-md-4">
              <label class="radio-inline radio-styled">
                <input type="radio" name="checkordtiporep" ng-model="$ctrl.tiporeporte" value="1">
                <span>Fecha Sol.</span>
              </label>
            </div>
            <div class="col-md-4" ng-if="$ctrl.tiporeporteord=='1'">
              <label class="radio-inline radio-styled">
                <input type="radio" name="checkordtiporep" ng-model="$ctrl.tiporeporte" value="2">
                <span>Reporte</span>
              </label>
            </div>
          </div>
        </div>
        <div class="row">
          <br>
          <div class="col-md-6">
              <button class="btn btn-warning btn-block"><i class="fa fa-line-chart" aria-hidden="true"></i> Generar Reporte</button>
          </div>
          <div class="col-md-6">
              <button class="btn btn-default btn-block" type="button" onclick="location.reload();" ><i class="fa fa-repeat" aria-hidden="true"></i> Volver Elegir</button>
          </div>
        </div>
      </form>
    </div>
     <div class="col-md-5" ng-show="!$ctrl.showfilters">
              <filtros-reporte  report="$ctrl.report"
               order="$ctrl.order" 
               responseparams="$ctrl.responseparams"
               showfilters="$ctrl.showfilters">          
              </filtros-reporte>
             
           </div> 
    <div class="col-md-7">
      <a href="{{$ctrl.url}}" target="_blank" class="btn btn-default-bright btn-block">
        <i class="fa fa-external-link-square" aria-hidden="true"></i> Ver reporte en pantalla completa </a>
      <iframe src="{{$ctrl.url}}" width="700px;" height="500px;"></iframe>
    </div>
  </div>
</div>
